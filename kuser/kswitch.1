.\" Copyright (c) 2009 Kungliga Tekniska HÃ¶gskolan
.\" (Royal Institute of Technology, Stockholm, Sweden).
.\" All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\"
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\"
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\"
.\" 3. Neither the name of the Institute nor the names of its contributors
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE INSTITUTE AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE INSTITUTE OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.Dd August 25, 2009
.Dt KSWITCH 1
.Os HEIMDAL
.Sh NAME
.Nm kswitch
.Nd switch between default credential caches
.Sh SYNOPSIS
.Nm
.Oo Fl c Ar cache \*(Ba Xo
.Fl Fl cache= Ns Ar cache
.Xc
.Oc
.Oo Fl p Ar principal \*(Ba Xo
.Fl Fl principal= Ns Ar principal
.Xc
.Oc
.Op Fl i | Fl Fl interactive
.Op Fl Fl version
.Op Fl Fl help
.Op Ar command Op Ar arguments...
.Sh DESCRIPTION
Switches the default credential cache for the user's credential
cache collection.
This is useful for users who keep credentials for multiple client
principals.
.Pp
When a command is given, the default credential cache for the
user's credential cache collection will not be changed.
Instead, the
given command will be run with the
.Ev KRB5CCNAME
environment variable set to the identified credential cache's
name.
.Pp
Supported options:
.Bl -tag -width Ds
.It Xo
.Fl c Ar cache ,
.Fl Fl cache= Ns Ar cache
.Xc
name of credential cache to use
.It Xo
.Fl p Ar principal ,
.Fl Fl principal= Ns Ar principal
.Xc
search for a credential cache with the given
.Ar principal 's
credentials and use that cache
.It Xo
.Fl i ,
.Fl Fl interactive
.Xc
interactively select a credentials cache from the set that is
available in the user's collection
.It Xo
.Fl t Ar type ,
.Fl Fl type= Ns Ar type
.Xc
type of credential cache (obsolete option)
.It Xo
.Fl Fl version
.Xc
print version
.It Xo
.Fl Fl help
.Xc
.El
.Sh NOTES
All built-in credentials cache types in Heimdal are collection
types.
A credentials cache collection is just that: a collection of
credentials caches, all for the same user.
The names of the caches in the collection are "subsidiary" to the
collection.
.Pp
Generally, the name of a credentials cache is of the form
.Ar TYPE:collection-name[:subsidiary-name] ,
such as
.Dq KCM:1000:some-name-here .
Both, the
.Ar FILE
and
.Ar DIR
credentials cache types use an alternative credentials cache name
form of
.Ar TYPE:collection-name[+subsidiary-name] ,
such as
.Dq FILE:/tmp/krb5cc_1000+some-name-here .
.Pp
The
.Ar FILE
credentials cache type must be enabled by setting
.Ar [libdefaults] Ar enable_file_cache_iteration = yes
in the
.Ar krb5.conf
file.
This is disabled by default to avoid potentially listing the
user's temporary file directory, which is where the
.Ar FILE
credentials cache type normally stores its caches.
.Sh SEE ALSO
.Xr kdestroy 1 ,
.Xr kinit 1 ,
.Xr klist 1
